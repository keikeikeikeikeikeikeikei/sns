import{d as b,r,c as p,a as t,f as g,e as c,g as v,v as f,t as w,h as u,b as _,w as k,m as V,o as m,i as N}from"./index-CzD91pAN.js";import{a as S}from"./axios-instance-9reuLYs6.js";const h={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 px-4"},C={class:"w-full max-w-md"},B={class:"card p-8"},q={key:0,class:"p-3 bg-red-50 text-red-600 text-sm rounded-lg"},D=["disabled"],I={key:0,class:"pi pi-spin pi-spinner mr-2"},M={class:"text-center text-sm text-gray-500 mt-6"},E=b({__name:"LoginView",setup(T){const x=N(),l=r(""),n=r(""),a=r(""),o=r(!1),y=async()=>{var i,e;a.value="",o.value=!0;try{const s=await S.post("/auth/login",{email:l.value,password:n.value});localStorage.setItem("token",s.data.token),x.push("/")}catch(s){a.value=((e=(i=s.response)==null?void 0:i.data)==null?void 0:e.error)||"ログインに失敗しました"}finally{o.value=!1}};return(i,e)=>{const s=V("router-link");return m(),p("div",h,[t("div",C,[t("div",B,[e[7]||(e[7]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl font-bold bg-gradient-to-r from-primary-500 to-primary-700 bg-clip-text text-transparent"}," SNS "),t("p",{class:"text-gray-500 mt-2"},"アカウントにログイン")],-1)),t("form",{onSubmit:g(y,["prevent"]),class:"space-y-4"},[t("div",null,[e[2]||(e[2]=t("label",{class:"form-label"},"メールアドレス",-1)),v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>l.value=d),type:"email",class:"form-input",placeholder:"email@example.com",required:""},null,512),[[f,l.value]])]),t("div",null,[e[3]||(e[3]=t("label",{class:"form-label"},"パスワード",-1)),v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>n.value=d),type:"password",class:"form-input",placeholder:"••••••••",required:""},null,512),[[f,n.value]])]),a.value?(m(),p("div",q,w(a.value),1)):c("",!0),t("button",{type:"submit",class:"btn btn-primary w-full py-3",disabled:o.value},[o.value?(m(),p("i",I)):c("",!0),e[4]||(e[4]=u(" ログイン ",-1))],8,D)],32),t("p",M,[e[6]||(e[6]=u(" アカウントをお持ちでない方は ",-1)),_(s,{to:"/register",class:"text-primary-600 hover:underline font-medium"},{default:k(()=>[...e[5]||(e[5]=[u(" 新規登録 ",-1)])]),_:1})])])])])}}});export{E as default};
